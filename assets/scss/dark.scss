// --------------------------------------------------------------------------
// [Mod] Dark Mode Styles - Global Theme Definition
// --------------------------------------------------------------------------
.dark-container {
  &.dark-mode {
    background-color: #121212;
    color: #e0e0e0;
    min-height: 100vh;

    // 1. 卡片與容器
    .card {
      background-color: #1e1e1e;
      border-color: #333;
      color: #e0e0e0;

      .card-header {
        background-color: #252526;
        border-bottom: 1px solid #333;
      }
      
      .card-footer {
        background-color: #252526;
        border-top: 1px solid #333;
      }
      
      // [重點] 強制覆寫 Bootstrap 文字顏色 class
      .text-dark, .text-body { color: #f8f9fa !important; }
      .text-muted { color: #adb5bd !important; } // 淺灰色
      .text-secondary { color: #ced4da !important; }
      .text-black-50 { color: rgba(255, 255, 255, 0.5) !important; }
      
      // 強制覆寫標題與連結
      h1, h2, h3, h4, h5, h6, strong { color: #f8f9fa; }
      a:not(.btn) { color: #66b0ff; }
    }

    // 2. 表單元件 (Input, Select)
    .form-control, .custom-select {
      background-color: #2b2b2b;
      border-color: #444;
      color: #e0e0e0;
      
      &:focus {
        background-color: #2b2b2b;
        border-color: #66b0ff;
        color: #fff;
      }
      
      option {
        background-color: #2b2b2b;
        color: #e0e0e0;
      }
    }

    // 3. 列表與表格
    .list-group-item {
      background-color: #1e1e1e;
      border-color: #333;
      color: #e0e0e0;
    }
    
    .table {
      color: #e0e0e0;
      th, td { border-color: #333; }
      thead th { 
        border-bottom: 2px solid #444; 
        color: #fff;
      }
      // 表格內的文字修正
      .text-dark { color: #f8f9fa !important; }
    }

    // 4. Modal 彈窗
    .modal-content {
      background-color: #1e1e1e;
      border-color: #444;
      color: #e0e0e0;

      .modal-header, .modal-footer {
        border-color: #333;
        .close {
          color: #fff;
          text-shadow: none;
          opacity: 0.8;
          &:hover { opacity: 1; }
        }
      }
      .text-dark { color: #f8f9fa !important; }
      .text-muted { color: #adb5bd !important; }
    }

    // 5. 按鈕與其他
    .btn-outline-secondary {
      color: #aaa;
      border-color: #555;
      &:hover {
        background-color: #444;
        color: #fff;
        border-color: #666;
      }
    }
    
    .pinned-highlight {
      border: 1.5px solid #aaa !important;
      box-shadow: 0 0 0.2rem rgba(255, 255, 255, 0.3);
    }

    // 6. 特殊自定義 Class 修正
    .office-name, .area-name{
      color: #f8f9fa !important;
    }

    // 7. Chart.js Canvas 優化
    canvas {
      filter: invert(1) hue-rotate(180deg) brightness(1.2) contrast(1.1);
      background-color: transparent !important;
    }

    // 8. [Mod] Bootstrap 通用背景覆寫 (適用於 Connectivity 等頁面)
    .bg-light, .bg-white, .btn-light {
      background-color: #1e1e1e !important;
      color: #e0e0e0 !important;
      border-color: #333 !important;
    }

    // 9. [Mod] Dashboard Grid Buttons (適用於 Connectivity 站點方塊)
    .dashboard-grid .btn {
      background-color: #1e1e1e !important;
      border-color: #444 !important;
      color: #f8f9fa !important;
      &:hover { background-color: #333 !important; }
      
      div, span, small, strong { color: #f8f9fa !important; }
      .text-muted { color: #aaa !important; }
      .text-secondary { color: #ccc !important; }
    }

    // 10. [Mod] Timeline Container (適用於 Connectivity 時間軸)
    .timeline-container {
      .card, .list-group-item {
        background-color: #1e1e1e !important;
        border-color: #333 !important;
        color: #e0e0e0 !important;
      }
      .border-dark {
        border-color: #666 !important;
        background-color: #252526 !important;
        color: #f8f9fa !important;
      }
      .item-description { color: #f8f9fa !important; }
      a { color: #66b0ff !important; }
      .text-muted { color: #aaa !important; }
    }

    // 11. Overlays
    .site-id-overlay { color: #ccc !important; }
  }
}